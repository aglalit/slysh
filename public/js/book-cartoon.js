"use strict";function preload(){img=loadImage("/B&F/parts/background_img.jpg",100,100)}function book(){noFill(),0===turnPageCounter?bookCoords.forEach(function(o){"curve"===o[o.length-1]?curve(o[0]+Math.floor(2*Math.random()+1)+30,o[1]+Math.floor(2*Math.random()+1)+30,o[0]+Math.floor(2*Math.random()+1),o[1]+Math.floor(2*Math.random()+1),o[2]+Math.floor(2*Math.random()+1),o[3]+Math.floor(2*Math.random()+1),o[2]+Math.floor(2*Math.random()+1)+30,o[3]+Math.floor(2*Math.random()+1)+30):line(o[0]+Math.floor(2*Math.random()+1),o[1]+Math.floor(2*Math.random()+1),o[2]+Math.floor(2*Math.random()+1),o[3]+Math.floor(2*Math.random()+1))}):(turnPage(),turnPageCounter--)}function turnPage(){for(i=0;i<turnPageCoords.length;i++){var o=turnPageCoords[i];"move"===o[o.length-2]&&(turnPageCounter<5?(o[0]-=(o[0]-o[8])/2,o[1]-=(o[1]-o[9])/2,o[2]-=(o[2]-o[10])/2,o[3]-=(o[3]-o[11])/2):(o[0]-=(o[0]-o[4])/3,o[1]-=(o[1]-o[5])/3,o[2]-=(o[2]-o[6])/3,o[3]-=(o[3]-o[7])/3)),"curve"===o[o.length-1]?turnPageCounter>4&&4!=i?curve(o[0]+Math.floor(2*Math.random()+1)+30,o[1]+Math.floor(2*Math.random()+1)+30,o[0]+Math.floor(2*Math.random()+1),o[1]+Math.floor(2*Math.random()+1),o[2]+Math.floor(2*Math.random()+1),o[3]+Math.floor(2*Math.random()+1),o[2]+Math.floor(2*Math.random()+1)+30,o[3]+Math.floor(2*Math.random()+1)+30):turnPageCounter<=4&&curve(o[0]+Math.floor(2*Math.random()+1)+30,o[1]+Math.floor(2*Math.random()+1)+30,o[0]+Math.floor(2*Math.random()+1),o[1]+Math.floor(2*Math.random()+1),o[2]+Math.floor(2*Math.random()+1),o[3]+Math.floor(2*Math.random()+1),o[2]+Math.floor(2*Math.random()+1)+30,o[3]+Math.floor(2*Math.random()+1)+30):line(o[0]+Math.floor(2*Math.random()+1),o[1]+Math.floor(2*Math.random()+1),o[2]+Math.floor(2*Math.random()+1),o[3]+Math.floor(2*Math.random()+1))}if(1===turnPageCounter)for(turnPageCoords=[],i=0;i<bookCoords.length;i++)turnPageCoords.push(bookCoords[i].concat([]))}function mousePressed(){return 0===turnPageCounter&&(turnPageCounter=7),!1}function setup(){img.resize(windowWidth,windowHeight),image(img),createCanvas(windowWidth,windowHeight),frameRate(framesPerSec)}function draw(){scale(1.5,1.5),strokeWeight(.8),stroke(0,0,150),image(img),translate(-200),book()}for(var bookCoords=[[150,100,200,100,150,100,150,50,150,100,100,100,"move","curve"],[100,50,150,50,100,50,110,10,100,50,50,50,"move","curve"],[150,50,200,100,110,10,150,50,50,50,100,100,"move","line"],[150,100,200,100,"curve"],[100,50,150,50,"curve"],[150,50,200,100,"line"],[50,50,100,100],[50,50,100,100],[100,100,150,100,"curve"],[100,100,150,100,"curve"],[50,50,100,50,"curve"],[50,50,100,50,"curve"],[100,50,150,100,"c"],[50,50,50,60],[50,60,100,110],[100,100,100,110],[100,110,150,110,"curve"],[150,110,200,110,"curve"],[200,110,200,100],[150,100,150,110],[50,53,100,103],[50,56,100,106],[50,58,100,108],[100,103,150,103,"curve"],[150,103,200,103,"curve"],[100,106,150,106,"curve"],[150,106,200,106,"curve"],[100,108,150,108,"curve"],[150,108,200,108,"curve"]],framesPerSec=8,turnPageCounter=0,turnPageCoords=[],i=0;i<bookCoords.length;i++)turnPageCoords.push(bookCoords[i].concat([]));var img=void 0;